#LyX 2.2 created this file. For more info see http://www.lyx.org/
\lyxformat 508
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass article
\begin_preamble
\usepackage{fancyhdr}
\usepackage{lscape}
\pagestyle{fancy}
\lhead{Teoría de Circuitos 22.01}
\chead{TPL6}
\rhead{ITBA}
\renewcommand{\headrulewidth}{1pt}
\renewcommand{\footrulewidth}{1pt}
\end_preamble
\use_default_options true
\maintain_unincluded_children false
\language spanish
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\float_placement H
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 2.25cm
\topmargin 2.25cm
\rightmargin 2cm
\bottommargin 2cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language french
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Section
Diseño de VCO
\end_layout

\begin_layout Standard
El VCO es circuito oscilador controlado por tensión, que genera una señal
 triangular cuya frecuencia dependerá linealmente de la tensión continua
 colocada a la entrada.
 El rango de frecuencias de funcionamiento (para un intervalo de tensiones
 de entrada) y la amplitud de la señal son definidos por los componentes
 del circuito.
\end_layout

\begin_layout Standard
Para generar la señal senoidal buscada, se debe combinar dicho circuito
 con otros bloques, como se mostrará a continuación, cumpliendo cada uno
 una función en específico.
\end_layout

\begin_layout Subsection
Diseño del circuito
\end_layout

\begin_layout Standard
El circuito completo es representado en el siguiente diagrama en bloques,
 donde la función y diseño de cada parte es desarrollada en su sección correspon
diente.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Graficos/Bloques.png
	display false
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Diagrama en bloques - Generador de señal senoidal
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Circuito VCO
\end_layout

\begin_layout Standard
Para el diseño del VCO, se implementó el circuito mostrado en la figura.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Graficos/CircuitoVCO.png
	display false
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Circuito VCO
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
De dicho circuito, se pueden indentificar tres partes bien diferenciadas:
 amplificador inversor, un circuito integrador y un comparador schmitt trigger
 inversor.
\end_layout

\begin_layout Standard
Para el amplificador operacional utilizado, la tensión de salida máxima
 en saturación es 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{CC} - 1.5V = 10.5V$
\end_layout

\end_inset

.
 Para el análisis del schmitt trigger, dado que está realimentado positivamente,
 suponemos el signo de la tensión inicial de salida en saturación 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{SAT}$
\end_layout

\end_inset

.
 por ejemplo 
\begin_inset ERT
status open

\begin_layout Plain Layout

$+10.5V$
\end_layout

\end_inset

, de manera que 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{REF}$
\end_layout

\end_inset

 es positiva.
 En esa condición, cuando la tensión 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_T > V_{REF}$
\end_layout

\end_inset

, el operacional transiciona hacia 
\begin_inset ERT
status open

\begin_layout Plain Layout

$-10.5V$
\end_layout

\end_inset

, de forma tal que ahora 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{REF}$
\end_layout

\end_inset

 es negativa.
 En esa condición, cuando se cumpla que 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_T < V_{REF}$
\end_layout

\end_inset

, el operacional transiciona hacia 
\begin_inset ERT
status open

\begin_layout Plain Layout

$+10.5V$
\end_layout

\end_inset

.
 De esta forma queda definida una ventana de comparación, entre 
\begin_inset ERT
status open

\begin_layout Plain Layout

$-V_{REF}$
\end_layout

\end_inset

 y 
\begin_inset ERT
status open

\begin_layout Plain Layout

$+V_{REF}$
\end_layout

\end_inset

\SpecialChar endofsentence
 Considerando al operacional como ideal, dichas tensiones se calculan mediante
 el divisor resistivo:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$
\backslash
pm V_{REF} = 
\backslash
pm V_{SAT} 
\backslash
frac{R_1}{R_1+R_2}$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
El transistor bipolar funcina como un interruptor.
 Cuando la salida del comparador es 
\begin_inset ERT
status open

\begin_layout Plain Layout

$-V_{SAT}$
\end_layout

\end_inset

, el transistor no se polariza y queda en corte (impidiendo que pase corriente).
 Cuando la salida es 
\begin_inset ERT
status open

\begin_layout Plain Layout

$+V_{SAT}$
\end_layout

\end_inset

, el transistor trabajará en saturación (perimtiendo el paso de corriente,
 con una pequeña caída de tensión entre colector y emisor).
\end_layout

\begin_layout Standard
Suponiendo al capacitor inicialmente descargado, y la salida del comparador
 en 
\begin_inset ERT
status open

\begin_layout Plain Layout

$-V_{SAT}$
\end_layout

\end_inset

, el transistor estará en corte, de manera tal que en el primer operacional,
 en la entrada no inversora se tendrá 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN}$
\end_layout

\end_inset

 y, al estar realimentado negativamente se considera 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V^+ = V^-$
\end_layout

\end_inset

, por lo que en la entrada inversora también se tiene 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN}$
\end_layout

\end_inset

\SpecialChar endofsentence
 Sabiendo que idealmente no circula corriente por las entradas del operacional,
 se tiene:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$i_i = i_f 
\backslash
Rightarrow 
\backslash
frac{V_{IN}-V_{IN}}{R} = 
\backslash
frac{V_{IN}-V_A}{R} 
\backslash
Rightarrow 0 = 
\backslash
frac{V_{IN}-V_A}{R} 
\backslash
Rightarrow V_{IN} = V_A$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
En el circuito integrador, siendo negativa también la realimentación, se
 considera 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V^+ = V^-$
\end_layout

\end_inset

, por lo que en la entrada inversora se tiene una masa virtual (dado que
 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V^+ = 0V$
\end_layout

\end_inset

).
 De igual forma que antes:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$i_R = i_C 
\backslash
Rightarrow 
\backslash
frac{V_A}{2R} = i_C = C 
\backslash
cdot 
\backslash
frac{dV_C}{dt} = Constante$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Por lo que la tensión 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_C = -V_T$
\end_layout

\end_inset

 sobre el capacitor resulta lineal.
 Siguiendo las condiciones iniciales planteadas, la tensión 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_T$
\end_layout

\end_inset

 comenzará a hacerse negativa, hasta que 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_T < V_{REF}$
\end_layout

\end_inset

, donde el comparador transicionará hacia 
\begin_inset ERT
status open

\begin_layout Plain Layout

$+V_{SAT}$
\end_layout

\end_inset

, de manera que ahora el transistor trabajará en saturación.
 Considerando 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{CE} 
\backslash
approx 0V$
\end_layout

\end_inset

, en la entrada no inversora del primer operacional la tensión será de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$0V$
\end_layout

\end_inset

, por lo que la entrada inversora estará ahora como masa virtual.
 Planteando las corrientes al igual que antes:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$i_i = i_f 
\backslash
Rightarrow 
\backslash
frac{V_{IN}}{R} = -
\backslash
frac{V_A}{R} 
\backslash
Rightarrow -V_{IN} = V_A$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
En el circuito integrador, ahora las corrientes quedan en sentido opuesto
 a la situación anterior, por lo que 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_C = V_T$
\end_layout

\end_inset

, de manera que 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_T$
\end_layout

\end_inset

 aumentará hasta hacerse positiva, y cuando se cumpla que 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_T > V_{REF}$
\end_layout

\end_inset

 el comparador transicionará hacia 
\begin_inset ERT
status open

\begin_layout Plain Layout

$-V_{SAT}$
\end_layout

\end_inset

, produciendo que el transistor entre en corte, repitiéndose el ciclo nuevamente.
\end_layout

\begin_layout Standard
En régimen permanente, la tensión sobre el capacitor transiciona linealmente
 entre 
\begin_inset ERT
status open

\begin_layout Plain Layout

$+V_{REF}$
\end_layout

\end_inset

 y 
\begin_inset ERT
status open

\begin_layout Plain Layout

$-V_{REF}$
\end_layout

\end_inset

 para la carga y descarga, llamando a esta diferencia de tensiones 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{Tpp}$
\end_layout

\end_inset

.
 De las ecuaciones anteriores se tenía que:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$
\backslash
frac{V_A}{2R} = C 
\backslash
cdot 
\backslash
frac{dV_C}{dt} 
\backslash
Rightarrow 
\backslash
frac{V_{IN}}{2R} = C 
\backslash
cdot 
\backslash
frac{V_{Tpp}}{t_x}$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Donde 
\begin_inset ERT
status open

\begin_layout Plain Layout

$t_x = t_c = t_d$
\end_layout

\end_inset

, siendo 
\begin_inset ERT
status open

\begin_layout Plain Layout

$t_c$
\end_layout

\end_inset

 el tiempo de carga (cuando 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_T$
\end_layout

\end_inset

 va desde 
\begin_inset ERT
status open

\begin_layout Plain Layout

$-V_{REF}$
\end_layout

\end_inset

 hasta 
\begin_inset ERT
status open

\begin_layout Plain Layout

$+V_{REF}$
\end_layout

\end_inset

) y 
\begin_inset ERT
status open

\begin_layout Plain Layout

$t_d$
\end_layout

\end_inset

 el tiempo de descarga (cuando 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_T$
\end_layout

\end_inset

 va desde 
\begin_inset ERT
status open

\begin_layout Plain Layout

$+V_{REF}$
\end_layout

\end_inset

 hasta 
\begin_inset ERT
status open

\begin_layout Plain Layout

$-V_{REF}$
\end_layout

\end_inset

).
 Ambos son iguales dado que la corriente en ambos casos es la misma (porque
 la resistencia es la misma).
 Despejando 
\begin_inset ERT
status open

\begin_layout Plain Layout

$t_x$
\end_layout

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$t_x = 
\backslash
frac{V_{Tpp} 
\backslash
cdot 2RC}{V_{IN}}$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Dado que el período 
\begin_inset ERT
status open

\begin_layout Plain Layout

$T = t_c + t_d = 2 
\backslash
cdot t_x$
\end_layout

\end_inset

, se tiene que:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$T = 
\backslash
frac{V_{Tpp} 
\backslash
cdot 4RC}{V_{IN}} 
\backslash
Rightarrow f = V_{IN} 
\backslash
frac{1}{4RC 
\backslash
cdot V_{Tpp}} 
\backslash
Rightarrow f = V_{IN} 
\backslash
cdot K $$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Siendo 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R$
\end_layout

\end_inset

 y 
\begin_inset ERT
status open

\begin_layout Plain Layout

$C$
\end_layout

\end_inset

 constantes, y 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{Tpp}$
\end_layout

\end_inset

 también constante dado que 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{REF}$
\end_layout

\end_inset

 es constante, la frecuencia resulta una constante 
\begin_inset ERT
status open

\begin_layout Plain Layout

$K$
\end_layout

\end_inset

 multiplicada por la tensión de entrada 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN}$
\end_layout

\end_inset

 (es decir, proporcional).
\end_layout

\begin_layout Standard
Para el diseño, se inicia por definir la tensión 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{Tpp}$
\end_layout

\end_inset

, donde considerando como alimentación 
\begin_inset ERT
status open

\begin_layout Plain Layout

$
\backslash
pm12V$
\end_layout

\end_inset

, por conveniencia para obtenter luego valores enteros se define en 
\begin_inset ERT
status open

\begin_layout Plain Layout

$10Vpp$
\end_layout

\end_inset

, por lo que 
\begin_inset ERT
status open

\begin_layout Plain Layout

$|V_{REF}| = 5V$
\end_layout

\end_inset

.
 Con este dato, se calculan 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_1$
\end_layout

\end_inset

 y 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_2$
\end_layout

\end_inset

 del schmitt trigger:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$V_{REF} = V_{SAT}
\backslash
frac{R_1}{R_1+R_2} 
\backslash
Rightarrow 
\backslash
frac{10}{21} = 
\backslash
frac{R_1}{R_1 + R_2} 
\backslash
Rightarrow R_2
\backslash
frac{10}{11} = R_1$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Eligiendo un valor intermedio comercial 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_2 = 1K
\backslash
Omega$
\end_layout

\end_inset

, calculando resulta 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_1 = 1K
\backslash
Omega$
\end_layout

\end_inset

\SpecialChar endofsentence

\end_layout

\begin_layout Standard
Se toma un valor para el capacitor de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$C = 10nF$
\end_layout

\end_inset

, de manera de poder utilzar uno multicapa dado que tienen mejor respuesta
 en frecuencia que los electrolíticos, y a su vez no es demasiado pequeño
 (del orden de los 
\begin_inset ERT
status open

\begin_layout Plain Layout

$100pF$
\end_layout

\end_inset

).
 Sabiendo que 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN}$
\end_layout

\end_inset

 no es superior a los 
\begin_inset ERT
status open

\begin_layout Plain Layout

$12V$
\end_layout

\end_inset

 de alimentación, se elige el valor de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R$
\end_layout

\end_inset

 de manera tal que en el rango de valores que puede tomar 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN}$
\end_layout

\end_inset

 se pueda obtener el rango de frecuencias buscado.
 Por ello, tomando 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R = 1K
\backslash
Omega$
\end_layout

\end_inset

, se tiene que:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$f = V_{IN} 
\backslash
frac{1}{4RC 
\backslash
cdot V_{Tpp}} 
\backslash
Rightarrow f = V_{IN} 
\backslash
cdot 2500$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
De manera tal que, para 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN} = 0.4V$
\end_layout

\end_inset

, resulta 
\begin_inset ERT
status open

\begin_layout Plain Layout

$f = 1KHz$
\end_layout

\end_inset

, y para 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN} = 4V$
\end_layout

\end_inset

, resulta 
\begin_inset ERT
status open

\begin_layout Plain Layout

$f = 10KHz$
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Se utiliza el transistor 
\begin_inset ERT
status open

\begin_layout Plain Layout

$BC548$
\end_layout

\end_inset

, que resulta útil para usos comunes donde se lo requiere en modo corte
 y saturación (por ejemplo, para encender un LED), y no se necesitan requerimien
tos particulares de potencia.
 Para la resistencia 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_B$
\end_layout

\end_inset

 del transistor, se considera en saturación una 
\begin_inset ERT
status open

\begin_layout Plain Layout

$VCE_{SAT} = 0.2V$
\end_layout

\end_inset

, donde la corriente máxima de colector se obtiene recorriendo la malla
 de salida:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$V_{IN} - I_CR - VCE_{SAT} = 0 
\backslash
Rightarrow I_C = 
\backslash
frac{V_{IN}-VCE_{SAT}}{R} = 3.8mA$$
\end_layout

\end_inset

.
 
\end_layout

\begin_layout Standard
Se toma el peor caso con 
\begin_inset ERT
status open

\begin_layout Plain Layout

$HFE_{MIN} = 110$
\end_layout

\end_inset

 (de la hoja de datos), por lo que la corriente de base mínima es 
\begin_inset ERT
status open

\begin_layout Plain Layout

$I_B = 
\backslash
frac{I_C}{HFE_{MIN}} = 34.54 
\backslash
mu A$
\end_layout

\end_inset

.
 Recorriendo la malla de entrada, se despeja 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_B$
\end_layout

\end_inset

 (que va a ser la máxima dado que la 
\begin_inset ERT
status open

\begin_layout Plain Layout

$I_B$
\end_layout

\end_inset

 es la mínima):
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$V_{SAT} - I_BR_B - VBE_{ON} = 0 
\backslash
Rightarrow R_B = 
\backslash
frac{V_{SAT}-VBE_{ON}}{I_B} = 283K
\backslash
Omega$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Al ser máximo, se normaliza dicho valor hacia abajo, para asegurar que sature,
 tomando entonces 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_B = 100K
\backslash
Omega$
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Dado que el rango de tensiones de entrada necesarios es diferente al buscado,
 es necesario anteponer una etapa que aplique una función lineal al rango
 de tensiones de entrada, para obtener el rango donde trabaja el VCO, que
 se detalla en la sección siguiente.
 
\end_layout

\begin_layout Subsubsection
Adaptación de señal de entrada
\end_layout

\begin_layout Standard
Para adaptar la señal de entrada que se utilizará, se tiene en cuenta como
 debe resultar el rango convertido:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN}$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$VIN_{VCO}$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$0V$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$0.4V$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$5V$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$4V$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Rango de conversión
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Trabajando con una función lineal (ver en 
\begin_inset ERT
status open

\begin_layout Plain Layout

$Anexo$
\end_layout

\end_inset

), se obtiene que:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$VIN_{VCO} = 0.72 
\backslash
cdot V_{IN} + 0.4V$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Donde los coeficientes numéricos son exactos.
 Dicha función se implementa con el siguiente circuito:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Graficos/FuncionLineal.png
	display false
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Circuito de adaptación
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para el primer amplificador inversor se tiene que, por superposición (ver
 en 
\begin_inset ERT
status open

\begin_layout Plain Layout

$Anexo$
\end_layout

\end_inset

):
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$V_A = -V_{IN}
\backslash
frac{R_2}{R_1} - 12V
\backslash
frac{R_2}{R_3}$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Sin tener en cuenta de momento los signos, igualando a la función obtenida
 anteriormente se tiene:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$0.72 = 
\backslash
frac{18}{25} = 
\backslash
frac{R_2}{R_1}$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Por lo que se toma 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_2 = 1.8K
\backslash
Omega$
\end_layout

\end_inset

, y 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_1$
\end_layout

\end_inset

 se implementa con dos resistencias en serie de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$1K
\backslash
Omega$
\end_layout

\end_inset

 y 
\begin_inset ERT
status open

\begin_layout Plain Layout

$1.5K
\backslash
Omega$
\end_layout

\end_inset

 respectivamente.
\end_layout

\begin_layout Standard
Por el otro lado:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$0.4V = 12V 
\backslash
cdot 
\backslash
frac{R_2}{R_3} 
\backslash
Rightarrow R_3 = 
\backslash
frac{12V 
\backslash
cdot R_2}{0.4V} = 54K
\backslash
Omega$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Se implementa 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_3$
\end_layout

\end_inset

 con una resistencia de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$47K
\backslash
Omega$
\end_layout

\end_inset

 en serie con un preset de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$10K
\backslash
Omega$
\end_layout

\end_inset

, de manera tal de poder realizar un ajuste sobre la función resultante
 en la práctica.
\end_layout

\begin_layout Standard
Dado que la función que surge del primer amplificador tiene los signos opuestos,
 se corrige con el segundo amplificador inversor configurándolo con gananancia
 unitaria, de forma tal que:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$VIN_{VCO} = -V_A
\backslash
frac{R_5}{R_4} 
\backslash
Rightarrow R_4 = R_5$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ya que se tiene libertad de elección, se toman 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_4 = R_5 = 1K
\backslash
Omega$
\end_layout

\end_inset

, para tener menos diversidad de valores (ya que en el VCO se utilizaron
 varias resistencias de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$1K
\backslash
Omega$
\end_layout

\end_inset

).
\end_layout

\begin_layout Subsubsection
Ajuste de offset
\end_layout

\begin_layout Standard
Luego de simular los dos bloques anteriores, se obtuvo correctamente la
 señal triangular en el intervalo de frecuencias buscado.
 Al armar el conjunto en la práctica, se encontró que la señal poseía un
 desfasaje y no se encontraba centrada en el origen.
 Para corregir esto, se implementa un amplificador sumador no inversor,
 como se muestra en la figura.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Graficos/Offset.png
	display false
	scale 60

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Circuito de ajuste de offset
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Las proporciones indicadas se utilizan para que la carga resistiva agregada
 por el conjunto del preset más las dos resistencias 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R$
\end_layout

\end_inset

 conectadas a 
\begin_inset ERT
status open

\begin_layout Plain Layout

$
\backslash
pm 12V$
\end_layout

\end_inset

 no afecten significativamente al cálculo de la tensión resultante 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_A$
\end_layout

\end_inset

 (ver resolución en 
\begin_inset ERT
status open

\begin_layout Plain Layout

$Anexo$
\end_layout

\end_inset

).
 Por lo que por superposición, se tiene:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$V_A 
\backslash
approx V_{T} 
\backslash
pm 4V$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Permitiendo entonces realizar un corrimiento máximo de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$4V$
\end_layout

\end_inset

 hacia arriba o hacia abajo.
 Dado que con dicha implementación se consigue una cierta libertad de elección,
 se toma 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R = 1K
\backslash
Omega$
\end_layout

\end_inset

, al igual que en el caso de la adaptación de la señal de entrada, para
 tener una menor diversidad de valores.
\end_layout

\begin_layout Subsubsection
Conversor de triangular a senoidal
\end_layout

\begin_layout Standard
Posteriormente al ajuste de offset, se inyecta la señal triangular resultante
 en un amplificador diferencial para señales débiles implementado en forma
 discreta, como se indica a continuación.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Graficos/DiferencialConRV.png
	display false
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Amplificador diferencial
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
En el circuito, los transistores operan en modo activo directo.
 Al ser de señales débiles, el comportamiento se mantiene lineal mientras
 la señal de entrada no supere el orden de los 
\begin_inset ERT
status open

\begin_layout Plain Layout

$ 
\backslash
approx 100mV$
\end_layout

\end_inset

 de amplitud.
 Para amplitudes mayores, el punto de polarización en alterna se introduce
 en la zona no lineal de los transistores (saturación), lo que producirá
 la distorsión en la señal triangular dando lugar a la forma senoidal buscada.
 Para ello, la señal triangular obtenida de la salida de ajuste de offset
 se conecta a una de las bases de los transistores, y la otra base se conecta
 a la referencia 
\begin_inset ERT
status open

\begin_layout Plain Layout

$GND$
\end_layout

\end_inset

.
 En el 
\begin_inset ERT
status open

\begin_layout Plain Layout

$Anexo$
\end_layout

\end_inset

 se incluye el cálculo de la polarización para que los transistores trabajen
 en la región activa, del cual surge que:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$R_{EE} = 5.6K
\backslash
Omega 
\backslash
hspace{2cm} R_C = 1K
\backslash
Omega$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Donde el preset 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_V$
\end_layout

\end_inset

 es para compensar el circuito real, dado que los transistores no son exactament
e idénticos.
 Estando correctamente polarizados, se buscará ajustar la señal de entrada
 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_T$
\end_layout

\end_inset

 para que se produzca la curvatura deseada, eliminado los picos de la señal
 triangular.
 Se conectan luego los dos colectores de los transistores a las entradas
 del operacional de salida, para convertir la señal diferencial en una única
 referida a 
\begin_inset ERT
status open

\begin_layout Plain Layout

$GND$
\end_layout

\end_inset

.
 Tanto la señal triangular como la senoidal resultante comparten un punto
 en común, que es el cruce por el valor medio (que en este caso se ajusta
 a 0 con el bloque anterior), lo cual puede verificarse con el desarrollo
 en serie de taylor alrededor del cero de la función seno, donde se cumple
 que:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$sen(x) = x - 
\backslash
frac{x^3}{3!} + 
\backslash
frac{x^5}{5!} - ...
 
\backslash
Rightarrow sen(x) 
\backslash
approx x$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Si 
\begin_inset ERT
status open

\begin_layout Plain Layout

$x$
\end_layout

\end_inset

 es cercana a 0.
\end_layout

\begin_layout Standard
Para disminuir la señal de entrada al orden de los 
\begin_inset ERT
status open

\begin_layout Plain Layout

$mV$
\end_layout

\end_inset

 indicados, se coloca a la salida de la etapa de corrección de offset un
 divisor resistivo, donde se toma por conveniencia 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_2 = 1K
\backslash
Omega$
\end_layout

\end_inset

, y 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_1$
\end_layout

\end_inset

 se desdobla en una resistencia fija de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$33K
\backslash
Omega$
\end_layout

\end_inset

 y un preset de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$20K
\backslash
Omega$
\end_layout

\end_inset

, de forma tal que puede ajustarse desde un mínimo de amplitud obteniendo
 leve distorsión (es decir, a la salida la señal ya no tiene forma triangular,
 pero aun se distinguen los picos) y un máximo de amplitud donde la distorsión
 obtenida es excesiva (los picos se tornan planos).
 Para ajustar dicho rango, se realizaron varias simulaciones en LTSpice
 hasta que la forma de onda se asemejara a la senoidal.
\end_layout

\begin_layout Subsubsection
Ajuste de amplitud de señal de salida
\end_layout

\begin_layout Standard
Dado que la señal de salida del operacional de la etapa anterior tiene una
 amplitud de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$2V_p$
\end_layout

\end_inset

 (diferente a la buscada), se implementa un divisor resistivo y un buffer
 para adaptarla al nivel deseado, como se muestra en la figura.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Graficos/Amplitud.png
	display false
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Circuito para ajuste de amplitud
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Como se requiere que la señal tenga 
\begin_inset ERT
status open

\begin_layout Plain Layout

$1V_p$
\end_layout

\end_inset

, se toma 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_1 = R_2$
\end_layout

\end_inset

, de manera tal que el divisor resulta ser 
\begin_inset ERT
status open

\begin_layout Plain Layout

$
\backslash
frac{1}{2}$
\end_layout

\end_inset

 y eligiendo como valor de resistencia 
\begin_inset ERT
status open

\begin_layout Plain Layout

$1K
\backslash
Omega$
\end_layout

\end_inset

, por el mismo motivo que en las etapas anteriores.
\end_layout

\begin_layout Subsection
Medición de señales
\end_layout

\begin_layout Subsubsection
Muestras de señales obtenidas
\end_layout

\begin_layout Standard
A partir de la implementación final de todo el circuito, se toman algunas
 capturas de las señales senoidales resultantes para distintos valores de
 frecuencia.
 La distorsión se analiza en el apartado siguiente.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Graficos/VCO_1K.pdf
	display false
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Señal generada a: 
\begin_inset ERT
status open

\begin_layout Plain Layout

$1KHz$
\end_layout

\end_inset

 para 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN} = 0V$
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Graficos/VCO_4K.pdf
	display false
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Señal generada a: 
\begin_inset ERT
status open

\begin_layout Plain Layout

$4KHz$
\end_layout

\end_inset

 para 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN} = 1.7V$
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Graficos/VCO_7K.pdf
	display false
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Señal generada a: 
\begin_inset ERT
status open

\begin_layout Plain Layout

$7KHz$
\end_layout

\end_inset

 para 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN} = 3.4V$
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Graficos/VCO_10K.pdf
	display false
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Señal generada a: 
\begin_inset ERT
status open

\begin_layout Plain Layout

$10KHz$
\end_layout

\end_inset

 para 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN} = 5.07V$
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Distorsión
\end_layout

\begin_layout Standard
El THD (Total Harmoic Distortion) es una medida de la distorsión armónica
 que posee una señal en particular (en este caso la senoidal generada),
 y se define como el cociente entre la suma de las potencias de los armónicos
 secundarios 
\begin_inset ERT
status open

\begin_layout Plain Layout

$(P_i)$
\end_layout

\end_inset

 y la potencia del armónico fundamental 
\begin_inset ERT
status open

\begin_layout Plain Layout

$P_0$
\end_layout

\end_inset

, es decir:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$THD = 
\backslash
frac{
\backslash
sum{P_i}}{P_0} $$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Dado que el circuito trabaja con frecuencias medias, para realizar la medición
 de este parámetro se utilizó el analizador de espectros para audio, dado
 que el común se utiliza para medir potencia de señales de frecuencias mucho
 mayores.
 En la siguiente captura se muestran las mediciones de potencia y 
\begin_inset ERT
status open

\begin_layout Plain Layout

$THD$
\end_layout

\end_inset

 obtenidos con dicho instrumento.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Mediciones/THD.jpeg
	display false
	scale 45

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Distorsión armónica de la señal generada
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
De las mediciones realizadas de los primeros 40 armónicos incluyendo el
 fundamental, el 
\begin_inset ERT
status open

\begin_layout Plain Layout

$THD$
\end_layout

\end_inset

 mínimo obtenido a partir de regular los presets del amplificador diferencial
 y del divisor resistivo de su entrada es de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$3.3
\backslash
%$
\end_layout

\end_inset

.
\end_layout

\begin_layout Subsubsection
Jitter
\end_layout

\begin_layout Standard
El jitter de una señal periódica puede considerarse como ruido en la frecuencia,
 es decir, variaciones no deseadas en el período de la misma y que, en consecuen
cia, éste no es constante a lo largo del tiempo.
 Para el circuito en cuestión, puede darse a efecto de variaciones en los
 siguientes parámetros:
\end_layout

\begin_layout Itemize
Fuente de Alimentación: variaciones en la tensión de alimentación pueden
 producir jitter en la señal cuadrada procedente del schmitt trigger, dado
 que al variar el valor de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{SAT}$
\end_layout

\end_inset

, modificando a su vez la tensión 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{REF}$
\end_layout

\end_inset

, provocando que la transición de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$+V_{SAT}$
\end_layout

\end_inset

 a 
\begin_inset ERT
status open

\begin_layout Plain Layout

$-V_{SAT}$
\end_layout

\end_inset

 (y viceversa) ocurra antes o después.
 En dichas transiciones es cuando el operacional requiere más corriente
 de la fuente, por lo que el efecto puede minimizarse al colocar capacitores
 de desacople entre los terminales de alimentación y 
\begin_inset ERT
status open

\begin_layout Plain Layout

$GND$
\end_layout

\end_inset

, lo cual que se implementó en el PCB final.
\end_layout

\begin_layout Itemize
Señal de entrada 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN}$
\end_layout

\end_inset

: teniendo en cuenta la expresión vista anteriormente para el cáculo de
 la frecuencia del VCO como 
\begin_inset ERT
status open

\begin_layout Plain Layout

$f = V_{IN}
\backslash
frac{1}{4RC 
\backslash
cdot V_{Tpp}}$
\end_layout

\end_inset

, si la señal de entrada posee ruido éste se traslada linealmente a la frecuenci
a de oscilación.
 Una señal de entrada más limpia y estable permitiría reducir el jitter
 del oscilador.
\end_layout

\begin_layout Standard
Para su medición, se midió la salida del circuito a distintas frecuencias,
 tomando los valores máximo, mínimo, media y desviación estándar en cada
 caso con el osciloscopio, a partir de más de 3000 muestras.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<column alignment="center" valignment="top">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Frecuencia
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Media
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Mínimo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Máximo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Desviación estándard 
\begin_inset ERT
status open

\begin_layout Plain Layout

$(
\backslash
sigma)$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$1KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$1.08KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$1.07KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$1.09KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$2Hz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$4KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$3.99KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$3.98KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$4.02KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$7.8Hz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$7KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$7.07KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$7.04KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$7.09KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$10.5Hz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$10KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$10.07KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$10.06KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$10.1KHz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

$9.9Hz$
\end_layout

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Jitter de la señal a diferentes frecuencias
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Conclusiones generales
\end_layout

\begin_layout Standard
A partir de las mediciones realizadas sobre la señal generada, se concluyó
 sobre los diferentes puntos tratados:
\end_layout

\begin_layout Itemize
Se observó un mayor 
\begin_inset ERT
status open

\begin_layout Plain Layout

$THD$
\end_layout

\end_inset

 al esperado.
 Inicialmente se calibró la señal en frecuencia y offset, corrigiendo luego
 la simetría del amplificador diferencial, y finalmente con apoyo del analizador
 de espectro para audio se ajustó la amplitud de entrada con el preset del
 divisor resistivo, hasta disminuir al mínimo posible el 
\begin_inset ERT
status open

\begin_layout Plain Layout

$THD$
\end_layout

\end_inset

 medido (es decir, conseguir una mejor relación entre la potencia del armónico
 fundamental y la potencia de los secundarios).
 Puede conseguirse un mejor valor (es decir, más pequeño), dependiendo ya
 de los transistores utilizados y de las curvas de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$I_B$
\end_layout

\end_inset

 características que poseen: si son más suaves en el límite entre la zona
 activa y la saturación (es decir, la pendiente no cambia en forma abrupta),
 se consigue un mejor resultado en el redondeo de los picos de la señal
 triangular.
\end_layout

\begin_layout Itemize
A partir de las mediciones de Jitter, se observó que las desviaciones en
 el valor real de la frecuencia lo largo del tiempo resultan, en el peor
 caso, de 100 órdenes de magnitud menores al valor de la frecuencia si se
 compara el caso de la frecuencia de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$1KHz$
\end_layout

\end_inset

 con la mayor desviación obtenida de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$10.5Hz$
\end_layout

\end_inset

, por lo que el circuito posee una buena estabilidad en el valor de la frecuenci
a a lo largo del tiempo, pero igualmente varía según lo descripto en la
 sección de Jitter 
\begin_inset Quotes fld
\end_inset

3.2.3
\begin_inset Quotes frd
\end_inset

.
\end_layout

\begin_layout Itemize
La simplicidad del circuito, aunque requiere un operacional adicional respecto
 a otras aplicaciones, permite ajustar el período en forma más fina al cargar
 y descargar el capacitor a través de la misma resistencia.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
newpage
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Calibración
\end_layout

\begin_layout Standard
Para el ajuste de la señal de salida, se sigue el procedimiento a continuación:
\end_layout

\begin_layout Itemize
Alimentar la placa con las tensiones indicadas: 
\begin_inset ERT
status open

\begin_layout Plain Layout

$
\backslash
pm 12V$
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize
Puentear la entrada polarizada 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN}$
\end_layout

\end_inset

 a 
\begin_inset ERT
status open

\begin_layout Plain Layout

$GND$
\end_layout

\end_inset

, y medir en el punto de prueba 
\begin_inset ERT
status open

\begin_layout Plain Layout

$J_1$
\end_layout

\end_inset

 (que corresponde a la señal de entrada adaptada, indicado como 
\begin_inset ERT
status open

\begin_layout Plain Layout

$VIN
\backslash
_ADJ$
\end_layout

\end_inset

), y ajustar el preset 
\begin_inset ERT
status open

\begin_layout Plain Layout

$VIN
\backslash
_ADJ$
\end_layout

\end_inset

 hasta medir 
\begin_inset ERT
status open

\begin_layout Plain Layout

$(0.4 
\backslash
pm 0.01)V$
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize
Con la entrada polarizada aún puenteada a 
\begin_inset ERT
status open

\begin_layout Plain Layout

$GND$
\end_layout

\end_inset

, medir ahora en el punto de prueba 
\begin_inset ERT
status open

\begin_layout Plain Layout

$J_3$
\end_layout

\end_inset

 (que corresponde a la salida triangular del VCO, indicado como 
\begin_inset ERT
status open

\begin_layout Plain Layout

$VCO
\backslash
_IN$
\end_layout

\end_inset

), y ajustar el preset 
\begin_inset ERT
status open

\begin_layout Plain Layout

$FREQ
\backslash
_ADJ$
\end_layout

\end_inset

 hasta que la frecuencia sea de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$(1 
\backslash
pm 0.1)KHz$
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize
Con la entrada polarizada aún puenteada a 
\begin_inset ERT
status open

\begin_layout Plain Layout

$GND$
\end_layout

\end_inset

, medir ahora en el punto de prueba 
\begin_inset ERT
status open

\begin_layout Plain Layout

$J_5$
\end_layout

\end_inset

 (que corresponde a la señal de salida triangular con corrección de offset),
 y ajustar el preset 
\begin_inset ERT
status open

\begin_layout Plain Layout

$OFFSET
\backslash
_ADJ$
\end_layout

\end_inset

 hasta que la señal esté centrada.
\end_layout

\begin_layout Itemize
Con la entrada polarizada aún puenteada a 
\begin_inset ERT
status open

\begin_layout Plain Layout

$GND$
\end_layout

\end_inset

, medir en el punto de prueba 
\begin_inset ERT
status open

\begin_layout Plain Layout

$J_4$
\end_layout

\end_inset

 (que corresponde a la señal de salida senoidal ya convertida, que se indica
 como 
\begin_inset ERT
status open

\begin_layout Plain Layout

$VO$
\end_layout

\end_inset

), y ajustar el preset 
\begin_inset ERT
status open

\begin_layout Plain Layout

$AMP
\backslash
_ADJ$
\end_layout

\end_inset

 del amplificador diferencial hasta ajustar la simetría de la señal.
\end_layout

\begin_layout Itemize
Mediante el preset del divisor resistivo, y conectando la señal de salida
 senoidal al analizador de espectro para audio, ajustar hasta reducir al
 mínimo el valor de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$THD$
\end_layout

\end_inset

 medido.
\end_layout

\begin_layout Itemize
Conectar la entrada polarizada 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN}$
\end_layout

\end_inset

 a 
\begin_inset ERT
status open

\begin_layout Plain Layout

$5V$
\end_layout

\end_inset

, y verificar que la frecuencia sea de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$(10 
\backslash
pm 0.1)KHz$
\end_layout

\end_inset

.
\end_layout

\begin_layout Subsection
Anexo
\end_layout

\begin_layout Subsubsection
Función lineal de adaptación
\end_layout

\begin_layout Standard
Partiendo de la ecuación general:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$y = mx + b$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Donde 
\begin_inset ERT
status open

\begin_layout Plain Layout

$y$
\end_layout

\end_inset

 representa la señal 
\begin_inset ERT
status open

\begin_layout Plain Layout

$VIN_{VCO}$
\end_layout

\end_inset

 y 
\begin_inset ERT
status open

\begin_layout Plain Layout

$x$
\end_layout

\end_inset

 a 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN}$
\end_layout

\end_inset

, reemplazando por el primer punto se obtiene:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$0.4V = b$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Y al reemplazar por el punto restante se obtiene el valor de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$m$
\end_layout

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$4V = m 
\backslash
cdot 5V + 0.4V 
\backslash
Rightarrow m = 0.72$$
\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Transferencia - Circuito de adaptación
\end_layout

\begin_layout Standard
Tomando el circuito de adaptación de nivel de tensión de entrada, se plantean
 sentidos para las corrientes:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Graficos/FuncionLinealConCorrientes.png
	display false
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Circuito de adaptación
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para el primer operacional, dado que la entrada inversora se encuentra a
 masa virtual, pasivando la entrada de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$+12V$
\end_layout

\end_inset

 se tiene:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$i_1 = i_2 
\backslash
Rightarrow 
\backslash
frac{V_{IN}}{R_1} = 
\backslash
frac{-V_A'}{R_2} 
\backslash
Rightarrow V_A' = -V_{IN} 
\backslash
frac{R_2}{R_1}$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pasivando ahora 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN}$
\end_layout

\end_inset

 y tomando la entrada de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$+12V$
\end_layout

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$i_3 = i_2 
\backslash
Rightarrow 
\backslash
frac{12V}{R_3} = 
\backslash
frac{-V_A''}{R_2} 
\backslash
Rightarrow V_A'' = -12V 
\backslash
frac{R_2}{R_3}$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Sumando ambos efectos por superposición, se tiene que:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$V_A = V_A' + V_A'' 
\backslash
Rightarrow V_A = -V_{IN} 
\backslash
frac{R_2}{R_1} -12V 
\backslash
frac{R_2}{R_3}$$
\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Transferencia - Circuito de ajuste de offset
\end_layout

\begin_layout Standard
Tomando el circuito de ajuste por offset, se plantean sentidos para las
 corrientes:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Graficos/OffsetConCorrientes.png
	display false
	scale 40

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Circuito de corrección de offset
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Considerando idealidad, 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V^+ = V^-$
\end_layout

\end_inset

, por lo que:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$i_2 = i_1 
\backslash
Rightarrow V_A = V_O 
\backslash
frac{R}{2R} 
\backslash
Rightarrow V_O = 2 
\backslash
cdot V_A$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pasivando las entradas de continua y considerando solo 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN}$
\end_layout

\end_inset

, resolviendo el paralelo con el preset a la mitad (peor caso) queda:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$${V_A}' = V_{IN}
\backslash
frac{100R+0.75R}{100R+0.75R+100R} = V_{IN}
\backslash
frac{100.75}{200.75} 
\backslash
approx = 
\backslash
frac{V_{IN}}{2}$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Por lo que:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$${V_O}' 
\backslash
approx V_{IN}$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Considerando ahora el preset totalmente del lado de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$+12V$
\end_layout

\end_inset

, y pasivando 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN}$
\end_layout

\end_inset

 y 
\begin_inset ERT
status open

\begin_layout Plain Layout

$-12V$
\end_layout

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$${V_A}'' 
\backslash
approx +12V 
\backslash
cdot 
\backslash
frac{R}{3R} 
\backslash
cdot 
\backslash
frac{100R}{200R} = 2V$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Por lo que 
\begin_inset ERT
status open

\begin_layout Plain Layout

${V_O}'' 
\backslash
approx 4V$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Considerando ahora pasivadas 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{IN}$
\end_layout

\end_inset

 y 
\begin_inset ERT
status open

\begin_layout Plain Layout

$+12V$
\end_layout

\end_inset

, continuando con el preset en el lado de 
\begin_inset ERT
status open

\begin_layout Plain Layout

$+12V$
\end_layout

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$${V_A}''' 
\backslash
approx -12V 
\backslash
cdot 
\backslash
frac{2R}{3R} 
\backslash
cdot 
\backslash
frac{100R}{200R} = -4V$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Por lo que 
\begin_inset ERT
status open

\begin_layout Plain Layout

${V_O}''' 
\backslash
approx -8V$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Sumando los efectos, resulta por superposición:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$V_O 
\backslash
approx V_{IN} -4V$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Análogamente, con el preset en el lado opuesto:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$V_O 
\backslash
approx V_{IN} +4V$$
\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Amplificador diferencial - Polarización
\end_layout

\begin_layout Standard
Para el análisis en polarización, se descuenta el preset de ajuste, dado
 que para el análisis teórico basta con considerar los elementos como ideales,
 por lo que el circuito queda:
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename Graficos/DiferencialSinRV.png
	display false
	scale 50

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Amplificador diferencial ideal
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Como para la función que se lo requiere basta con que los transistores estén
 polarizados en modo activo, se supone una corriente 
\begin_inset ERT
status open

\begin_layout Plain Layout

$I_C = 1mA$
\end_layout

\end_inset

, de manera tal que las resistencias que se obtengan resulten de ordenes
 similares a las ya trabajadas.
 
\end_layout

\begin_layout Standard
Planteando la malla de entrada, se tiene:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$12V - VBE_{ON}- 2I_CR_{EE} = 0$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
De la hoja de datos de los transistores, se tiene que 
\begin_inset ERT
status open

\begin_layout Plain Layout

$HFE = 160$
\end_layout

\end_inset

, por lo que:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$
\backslash
frac{12V - VBE_{ON}}{2I_C} = R_EE = 5.65K
\backslash
Omega$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para simplificar los cálculos, se desprecia la resistencia vista desde la
 base del transistor de entrada hacia el divisor resistivo (dado que la
 
\begin_inset ERT
status open

\begin_layout Plain Layout

$I_B$
\end_layout

\end_inset

 es pequeña y la caída de tensión que produce en la impedancia equivalente
 del divisor es pequeña comparada contra los 
\begin_inset ERT
status open

\begin_layout Plain Layout

$12V$
\end_layout

\end_inset

).
\end_layout

\begin_layout Standard
Normalizando se tiene 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_EE = 5.6K
\backslash
Omega$
\end_layout

\end_inset

.
 Para simplificar, suponiendo 
\begin_inset ERT
status open

\begin_layout Plain Layout

$V_{CE} = 12V$
\end_layout

\end_inset

, se obtiene 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_C$
\end_layout

\end_inset

 recorriendo la malla de salida:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$24V - V_{CE} - I_CR_C - 2I_CR_{EE} = 0$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout

$$
\backslash
frac{24V - V_{CE} - 2I_CR_{EE}}{I_C} = R_C = 800
\backslash
Omega$$
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Normalizando se define 
\begin_inset ERT
status open

\begin_layout Plain Layout

$R_C = 1K
\backslash
Omega$
\end_layout

\end_inset

.
\end_layout

\end_body
\end_document
